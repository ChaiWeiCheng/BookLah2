function cov_1a6u3c9cxe(){var path="C:\\Users\\teiji\\TP Year 2-3 Coding Projects\\DevOps Y2\\BookLah\\utils\\bookingUtil.js";var hash="11258aa28b3056631448b470f1b915ff300f6561";var global=new Function("return this")();var gcv="__coverage__";var coverageData={path:"C:\\Users\\teiji\\TP Year 2-3 Coding Projects\\DevOps Y2\\BookLah\\utils\\bookingUtil.js",statementMap:{"0":{start:{line:1,column:11},end:{line:1,column:33}},"1":{start:{line:4,column:4},end:{line:4,column:32}},"2":{start:{line:8,column:4},end:{line:8,column:25}},"3":{start:{line:13,column:26},end:{line:13,column:53}},"4":{start:{line:15,column:2},end:{line:15,column:36}},"5":{start:{line:22,column:2},end:{line:22,column:56}},"6":{start:{line:25,column:28},end:{line:25,column:43}},"7":{start:{line:27,column:2},end:{line:43,column:3}},"8":{start:{line:28,column:24},end:{line:28,column:61}},"9":{start:{line:31,column:25},end:{line:31,column:90}},"10":{start:{line:31,column:55},end:{line:31,column:89}},"11":{start:{line:32,column:4},end:{line:37,column:5}},"12":{start:{line:34,column:6},end:{line:36,column:9}},"13":{start:{line:38,column:4},end:{line:38,column:46}},"14":{start:{line:40,column:4},end:{line:42,column:7}},"15":{start:{line:46,column:2},end:{line:81,column:3}},"16":{start:{line:47,column:24},end:{line:47,column:61}},"17":{start:{line:48,column:17},end:{line:48,column:30}},"18":{start:{line:49,column:21},end:{line:49,column:38}},"19":{start:{line:50,column:17},end:{line:50,column:30}},"20":{start:{line:51,column:17},end:{line:51,column:30}},"21":{start:{line:54,column:4},end:{line:58,column:5}},"22":{start:{line:55,column:6},end:{line:57,column:9}},"23":{start:{line:61,column:4},end:{line:65,column:5}},"24":{start:{line:62,column:6},end:{line:64,column:9}},"25":{start:{line:68,column:26},end:{line:68,column:134}},"26":{start:{line:68,column:54},end:{line:68,column:133}},"27":{start:{line:69,column:4},end:{line:73,column:5}},"28":{start:{line:70,column:6},end:{line:72,column:9}},"29":{start:{line:74,column:23},end:{line:74,column:62}},"30":{start:{line:75,column:28},end:{line:75,column:78}},"31":{start:{line:76,column:4},end:{line:76,column:49}},"32":{start:{line:78,column:4},end:{line:80,column:7}},"33":{start:{line:84,column:2},end:{line:138,column:3}},"34":{start:{line:85,column:15},end:{line:85,column:28}},"35":{start:{line:86,column:21},end:{line:86,column:38}},"36":{start:{line:87,column:17},end:{line:87,column:30}},"37":{start:{line:88,column:17},end:{line:88,column:30}},"38":{start:{line:91,column:4},end:{line:95,column:5}},"39":{start:{line:92,column:6},end:{line:94,column:9}},"40":{start:{line:98,column:4},end:{line:102,column:5}},"41":{start:{line:99,column:6},end:{line:101,column:9}},"42":{start:{line:103,column:24},end:{line:103,column:61}},"43":{start:{line:104,column:19},end:{line:104,column:24}},"44":{start:{line:107,column:30},end:{line:109,column:84}},"45":{start:{line:107,column:58},end:{line:109,column:83}},"46":{start:{line:110,column:4},end:{line:114,column:5}},"47":{start:{line:111,column:6},end:{line:113,column:9}},"48":{start:{line:115,column:4},end:{line:123,column:5}},"49":{start:{line:115,column:17},end:{line:115,column:18}},"50":{start:{line:116,column:27},end:{line:116,column:41}},"51":{start:{line:117,column:6},end:{line:122,column:7}},"52":{start:{line:118,column:8},end:{line:118,column:43}},"53":{start:{line:119,column:8},end:{line:119,column:35}},"54":{start:{line:120,column:8},end:{line:120,column:35}},"55":{start:{line:121,column:8},end:{line:121,column:24}},"56":{start:{line:124,column:4},end:{line:133,column:5}},"57":{start:{line:125,column:6},end:{line:125,column:85}},"58":{start:{line:126,column:6},end:{line:128,column:9}},"59":{start:{line:130,column:6},end:{line:132,column:9}},"60":{start:{line:135,column:4},end:{line:137,column:7}},"61":{start:{line:140,column:0},end:{line:144,column:2}}},fnMap:{"0":{name:"isValidDateFormat",decl:{start:{line:11,column:9},end:{line:11,column:26}},loc:{start:{line:11,column:33},end:{line:16,column:1}},line:11},"1":{name:"isValidTimeFormat",decl:{start:{line:19,column:9},end:{line:19,column:26}},loc:{start:{line:19,column:33},end:{line:23,column:1}},line:19},"2":{name:"viewUserBookings",decl:{start:{line:24,column:15},end:{line:24,column:31}},loc:{start:{line:24,column:42},end:{line:44,column:1}},line:24},"3":{name:"(anonymous_3)",decl:{start:{line:31,column:44},end:{line:31,column:45}},loc:{start:{line:31,column:55},end:{line:31,column:89}},line:31},"4":{name:"addBooking",decl:{start:{line:45,column:15},end:{line:45,column:25}},loc:{start:{line:45,column:36},end:{line:82,column:1}},line:45},"5":{name:"(anonymous_5)",decl:{start:{line:68,column:43},end:{line:68,column:44}},loc:{start:{line:68,column:54},end:{line:68,column:133}},line:68},"6":{name:"updateBooking",decl:{start:{line:83,column:15},end:{line:83,column:28}},loc:{start:{line:83,column:39},end:{line:139,column:1}},line:83},"7":{name:"(anonymous_7)",decl:{start:{line:107,column:47},end:{line:107,column:48}},loc:{start:{line:107,column:58},end:{line:109,column:83}},line:107}},branchMap:{"0":{loc:{start:{line:22,column:9},end:{line:22,column:55}},type:"binary-expr",locations:[{start:{line:22,column:9},end:{line:22,column:33}},{start:{line:22,column:37},end:{line:22,column:55}}],line:22},"1":{loc:{start:{line:32,column:4},end:{line:37,column:5}},type:"if",locations:[{start:{line:32,column:4},end:{line:37,column:5}},{start:{line:32,column:4},end:{line:37,column:5}}],line:32},"2":{loc:{start:{line:54,column:4},end:{line:58,column:5}},type:"if",locations:[{start:{line:54,column:4},end:{line:58,column:5}},{start:{line:54,column:4},end:{line:58,column:5}}],line:54},"3":{loc:{start:{line:61,column:4},end:{line:65,column:5}},type:"if",locations:[{start:{line:61,column:4},end:{line:65,column:5}},{start:{line:61,column:4},end:{line:65,column:5}}],line:61},"4":{loc:{start:{line:68,column:54},end:{line:68,column:133}},type:"binary-expr",locations:[{start:{line:68,column:54},end:{line:68,column:83}},{start:{line:68,column:87},end:{line:68,column:108}},{start:{line:68,column:112},end:{line:68,column:133}}],line:68},"5":{loc:{start:{line:69,column:4},end:{line:73,column:5}},type:"if",locations:[{start:{line:69,column:4},end:{line:73,column:5}},{start:{line:69,column:4},end:{line:73,column:5}}],line:69},"6":{loc:{start:{line:91,column:4},end:{line:95,column:5}},type:"if",locations:[{start:{line:91,column:4},end:{line:95,column:5}},{start:{line:91,column:4},end:{line:95,column:5}}],line:91},"7":{loc:{start:{line:98,column:4},end:{line:102,column:5}},type:"if",locations:[{start:{line:98,column:4},end:{line:102,column:5}},{start:{line:98,column:4},end:{line:102,column:5}}],line:98},"8":{loc:{start:{line:107,column:58},end:{line:109,column:83}},type:"binary-expr",locations:[{start:{line:107,column:58},end:{line:107,column:75}},{start:{line:109,column:4},end:{line:109,column:33}},{start:{line:109,column:37},end:{line:109,column:58}},{start:{line:109,column:62},end:{line:109,column:83}}],line:107},"9":{loc:{start:{line:110,column:4},end:{line:114,column:5}},type:"if",locations:[{start:{line:110,column:4},end:{line:114,column:5}},{start:{line:110,column:4},end:{line:114,column:5}}],line:110},"10":{loc:{start:{line:117,column:6},end:{line:122,column:7}},type:"if",locations:[{start:{line:117,column:6},end:{line:122,column:7}},{start:{line:117,column:6},end:{line:122,column:7}}],line:117},"11":{loc:{start:{line:124,column:4},end:{line:133,column:5}},type:"if",locations:[{start:{line:124,column:4},end:{line:133,column:5}},{start:{line:124,column:4},end:{line:133,column:5}}],line:124}},s:{"0":0,"1":0,"2":0,"3":0,"4":0,"5":0,"6":0,"7":0,"8":0,"9":0,"10":0,"11":0,"12":0,"13":0,"14":0,"15":0,"16":0,"17":0,"18":0,"19":0,"20":0,"21":0,"22":0,"23":0,"24":0,"25":0,"26":0,"27":0,"28":0,"29":0,"30":0,"31":0,"32":0,"33":0,"34":0,"35":0,"36":0,"37":0,"38":0,"39":0,"40":0,"41":0,"42":0,"43":0,"44":0,"45":0,"46":0,"47":0,"48":0,"49":0,"50":0,"51":0,"52":0,"53":0,"54":0,"55":0,"56":0,"57":0,"58":0,"59":0,"60":0,"61":0},f:{"0":0,"1":0,"2":0,"3":0,"4":0,"5":0,"6":0,"7":0},b:{"0":[0,0],"1":[0,0],"2":[0,0],"3":[0,0],"4":[0,0,0],"5":[0,0],"6":[0,0],"7":[0,0],"8":[0,0,0,0],"9":[0,0],"10":[0,0],"11":[0,0]},inputSourceMap:{version:3,names:["fs","require","promises","Booking","readJSON","writeJSON","isValidDateFormat","date","dateFormatRegex","test","isValidTimeFormat","time","trim","viewUserBookings","req","res","requestedUsername","params","name","allBookings","userBookings","filter","booking","length","status","json","message","error","addBooking","body","facility","bookingExists","some","newBooking","updatedBookings","updateBooking","id","modified","isBookingConflict","i","currentBooking","writeFile","JSON","stringify","module","exports"],sourceRoot:"C:\\Users\\teiji\\TP Year 2-3 Coding Projects\\DevOps Y2\\BookLah\\utils\\",sources:["bookingUtil.js"],sourcesContent:["const fs = require('fs').promises;\r\nconst { Booking } = require('../models/Booking');\r\nconst { readJSON, writeJSON } = require('./userUtil')\r\n\r\n// Helper function to validate date format\r\nfunction isValidDateFormat(date) {\r\n\r\n    // Regular expression for \"Day/month/year\" format\r\n    const dateFormatRegex = /^\\d{1,2}\\/\\d{1,2}\\/\\d{2}$/;\r\n    //check if the provided date string matches the pattern defined by the regular expression dateFormatRegex.\r\n    return dateFormatRegex.test(date);\r\n}\r\n\r\n// Helper function to validate time format\r\nfunction isValidTimeFormat(time) {\r\n    // You can use a more sophisticated time validation logic if needed\r\n    // For simplicity, this example checks if the time has a valid format\r\n    return typeof time === 'string' && time.trim() !== '';\r\n}\r\n\r\nasync function viewUserBookings(req, res) {\r\n\r\n    const requestedUsername = req.params.name; // Getting name from the route parameter\r\n\r\n    try {\r\n        const allBookings = await readJSON('utils/bookings.json');\r\n\r\n        // Filter bookings based on the requested username\r\n        const userBookings = allBookings.filter(booking => booking.name === requestedUsername);\r\n\r\n        if (userBookings.length === 0) {\r\n            // If no bookings were found for the specified username\r\n            return res.status(404).json({ message: \"No bookings found for the specified user.\" });\r\n        }\r\n\r\n        return res.status(200).json(userBookings);\r\n    } catch (error) {\r\n        return res.status(500).json({ message: error.message });\r\n    }\r\n}\r\n\r\nasync function addBooking(req, res) {\r\n    try {\r\n        const allBookings = await readJSON('utils/bookings.json');\r\n\r\n        const name = req.body.name;\r\n        const facility = req.body.facility;\r\n        const date = req.body.date;\r\n        const time = req.body.time;\r\n\r\n        // Validate date format\r\n        if (!isValidDateFormat(date)) {\r\n            return res.status(400).json({ message: 'Invalid date format. Please provide a valid date.' });\r\n        }\r\n\r\n        // Validate time format\r\n        if (!isValidTimeFormat(time)) {\r\n            return res.status(400).json({ message: 'Invalid time format. Please provide a valid time range.' });\r\n        }\r\n\r\n\r\n        // Check if the proposed booking already exists in the JSON file\r\n        const bookingExists = allBookings.some(\r\n            (booking) =>\r\n                booking.facility === facility &&\r\n                booking.date === date &&\r\n                booking.time === time\r\n        );\r\n\r\n        if (bookingExists) {\r\n            return res.status(400).json({\r\n                message:\r\n                    'The chosen time for this facility is already booked by another person. Please choose another timing.',\r\n            });\r\n        }\r\n\r\n        const newBooking = new Booking(name, facility, date, time);\r\n\r\n        const updatedBookings = await writeJSON(newBooking, 'utils/bookings.json');\r\n\r\n        return res.status(201).json(updatedBookings);\r\n    } catch (error) {\r\n        return res.status(500).json({ message: error.message });\r\n    }\r\n}\r\n\r\nasync function updateBooking(req, res) {\r\n    try {\r\n        const id = req.params.id;\r\n        const facility = req.body.facility;\r\n        const date = req.body.date;\r\n        const time = req.body.time;\r\n\r\n         // Validate date format\r\n         if (!isValidDateFormat(date)) {\r\n            return res.status(400).json({ message: 'Invalid date format. Please provide a valid date.' });\r\n        }\r\n\r\n        // Validate time format\r\n        if (!isValidTimeFormat(time)) {\r\n            return res.status(400).json({ message: 'Invalid time format. Please provide a valid time range.' });\r\n        }\r\n        \r\n        const allBookings = await readJSON('utils/bookings.json');\r\n        var modified = false;\r\n\r\n        // Check if the proposed changes are already booked\r\n        const isBookingConflict = allBookings.some(\r\n            (booking) =>\r\n                booking.id !== id && // Exclude the current booking being updated\r\n                booking.facility === facility &&\r\n                booking.date === date &&\r\n                booking.time === time\r\n        );\r\n\r\n        if (isBookingConflict) {\r\n            return res.status(400).json({\r\n                message:\r\n                    'The chosen time for this facility is already booked by another person. Please choose another timing.',\r\n            });\r\n        }\r\n\r\n        for (var i = 0; i < allBookings.length; i++) {\r\n            var currentBooking = allBookings[i];\r\n            if (currentBooking.id == id) {\r\n                allBookings[i].facility = facility;\r\n                allBookings[i].date = date;\r\n                allBookings[i].time = time;\r\n                modified = true;\r\n            }\r\n        }\r\n\r\n        if (modified) {\r\n            await fs.writeFile('utils/bookings.json', JSON.stringify(allBookings), 'utf8');\r\n            return res.status(201).json({ message: 'Booking Updated Successfully!' });\r\n        } else {\r\n            return res.status(500).json({ message: 'Error occurred, unable to Update!' });\r\n        }\r\n    } catch (error) {\r\n        return res.status(500).json({ message: error.message });\r\n    }\r\n}\r\n\r\n\r\nmodule.exports = { viewUserBookings, addBooking, updateBooking }\r\n"],mappings:"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"},_coverageSchema:"1a1c01bbd47fc00a2c39e90264f33305004495a9",hash:"11258aa28b3056631448b470f1b915ff300f6561"};var coverage=global[gcv]||(global[gcv]={});if(!coverage[path]||coverage[path].hash!==hash){coverage[path]=coverageData;}var actualCoverage=coverage[path];{// @ts-ignore
cov_1a6u3c9cxe=function(){return actualCoverage;};}return actualCoverage;}cov_1a6u3c9cxe();const fs=(cov_1a6u3c9cxe().s[0]++,require('fs').promises);const{Booking}=(cov_1a6u3c9cxe().s[1]++,require('../models/Booking'));const{readJSON,writeJSON}=(cov_1a6u3c9cxe().s[2]++,require('./userUtil'));// Helper function to validate date format
function isValidDateFormat(date){cov_1a6u3c9cxe().f[0]++;// Regular expression for "Day/month/year" format
const dateFormatRegex=(cov_1a6u3c9cxe().s[3]++,/^\d{1,2}\/\d{1,2}\/\d{2}$/);//check if the provided date string matches the pattern defined by the regular expression dateFormatRegex.
cov_1a6u3c9cxe().s[4]++;return dateFormatRegex.test(date);}// Helper function to validate time format
function isValidTimeFormat(time){cov_1a6u3c9cxe().f[1]++;cov_1a6u3c9cxe().s[5]++;// You can use a more sophisticated time validation logic if needed
// For simplicity, this example checks if the time has a valid format
return(cov_1a6u3c9cxe().b[0][0]++,typeof time==='string')&&(cov_1a6u3c9cxe().b[0][1]++,time.trim()!=='');}async function viewUserBookings(req,res){cov_1a6u3c9cxe().f[2]++;const requestedUsername=(cov_1a6u3c9cxe().s[6]++,req.params.name);// Getting name from the route parameter
cov_1a6u3c9cxe().s[7]++;try{const allBookings=(cov_1a6u3c9cxe().s[8]++,await readJSON('utils/bookings.json'));// Filter bookings based on the requested username
const userBookings=(cov_1a6u3c9cxe().s[9]++,allBookings.filter(booking=>{cov_1a6u3c9cxe().f[3]++;cov_1a6u3c9cxe().s[10]++;return booking.name===requestedUsername;}));cov_1a6u3c9cxe().s[11]++;if(userBookings.length===0){cov_1a6u3c9cxe().b[1][0]++;cov_1a6u3c9cxe().s[12]++;// If no bookings were found for the specified username
return res.status(404).json({message:"No bookings found for the specified user."});}else{cov_1a6u3c9cxe().b[1][1]++;}cov_1a6u3c9cxe().s[13]++;return res.status(200).json(userBookings);}catch(error){cov_1a6u3c9cxe().s[14]++;return res.status(500).json({message:error.message});}}async function addBooking(req,res){cov_1a6u3c9cxe().f[4]++;cov_1a6u3c9cxe().s[15]++;try{const allBookings=(cov_1a6u3c9cxe().s[16]++,await readJSON('utils/bookings.json'));const name=(cov_1a6u3c9cxe().s[17]++,req.body.name);const facility=(cov_1a6u3c9cxe().s[18]++,req.body.facility);const date=(cov_1a6u3c9cxe().s[19]++,req.body.date);const time=(cov_1a6u3c9cxe().s[20]++,req.body.time);// Validate date format
cov_1a6u3c9cxe().s[21]++;if(!isValidDateFormat(date)){cov_1a6u3c9cxe().b[2][0]++;cov_1a6u3c9cxe().s[22]++;return res.status(400).json({message:'Invalid date format. Please provide a valid date.'});}else{cov_1a6u3c9cxe().b[2][1]++;}// Validate time format
cov_1a6u3c9cxe().s[23]++;if(!isValidTimeFormat(time)){cov_1a6u3c9cxe().b[3][0]++;cov_1a6u3c9cxe().s[24]++;return res.status(400).json({message:'Invalid time format. Please provide a valid time range.'});}else{cov_1a6u3c9cxe().b[3][1]++;}// Check if the proposed booking already exists in the JSON file
const bookingExists=(cov_1a6u3c9cxe().s[25]++,allBookings.some(booking=>{cov_1a6u3c9cxe().f[5]++;cov_1a6u3c9cxe().s[26]++;return(cov_1a6u3c9cxe().b[4][0]++,booking.facility===facility)&&(cov_1a6u3c9cxe().b[4][1]++,booking.date===date)&&(cov_1a6u3c9cxe().b[4][2]++,booking.time===time);}));cov_1a6u3c9cxe().s[27]++;if(bookingExists){cov_1a6u3c9cxe().b[5][0]++;cov_1a6u3c9cxe().s[28]++;return res.status(400).json({message:'The chosen time for this facility is already booked by another person. Please choose another timing.'});}else{cov_1a6u3c9cxe().b[5][1]++;}const newBooking=(cov_1a6u3c9cxe().s[29]++,new Booking(name,facility,date,time));const updatedBookings=(cov_1a6u3c9cxe().s[30]++,await writeJSON(newBooking,'utils/bookings.json'));cov_1a6u3c9cxe().s[31]++;return res.status(201).json(updatedBookings);}catch(error){cov_1a6u3c9cxe().s[32]++;return res.status(500).json({message:error.message});}}async function updateBooking(req,res){cov_1a6u3c9cxe().f[6]++;cov_1a6u3c9cxe().s[33]++;try{const id=(cov_1a6u3c9cxe().s[34]++,req.params.id);const facility=(cov_1a6u3c9cxe().s[35]++,req.body.facility);const date=(cov_1a6u3c9cxe().s[36]++,req.body.date);const time=(cov_1a6u3c9cxe().s[37]++,req.body.time);// Validate date format
cov_1a6u3c9cxe().s[38]++;if(!isValidDateFormat(date)){cov_1a6u3c9cxe().b[6][0]++;cov_1a6u3c9cxe().s[39]++;return res.status(400).json({message:'Invalid date format. Please provide a valid date.'});}else{cov_1a6u3c9cxe().b[6][1]++;}// Validate time format
cov_1a6u3c9cxe().s[40]++;if(!isValidTimeFormat(time)){cov_1a6u3c9cxe().b[7][0]++;cov_1a6u3c9cxe().s[41]++;return res.status(400).json({message:'Invalid time format. Please provide a valid time range.'});}else{cov_1a6u3c9cxe().b[7][1]++;}const allBookings=(cov_1a6u3c9cxe().s[42]++,await readJSON('utils/bookings.json'));var modified=(cov_1a6u3c9cxe().s[43]++,false);// Check if the proposed changes are already booked
const isBookingConflict=(cov_1a6u3c9cxe().s[44]++,allBookings.some(booking=>{cov_1a6u3c9cxe().f[7]++;cov_1a6u3c9cxe().s[45]++;return(cov_1a6u3c9cxe().b[8][0]++,booking.id!==id)&&(cov_1a6u3c9cxe().b[8][1]++,// Exclude the current booking being updated
booking.facility===facility)&&(cov_1a6u3c9cxe().b[8][2]++,booking.date===date)&&(cov_1a6u3c9cxe().b[8][3]++,booking.time===time);}));cov_1a6u3c9cxe().s[46]++;if(isBookingConflict){cov_1a6u3c9cxe().b[9][0]++;cov_1a6u3c9cxe().s[47]++;return res.status(400).json({message:'The chosen time for this facility is already booked by another person. Please choose another timing.'});}else{cov_1a6u3c9cxe().b[9][1]++;}cov_1a6u3c9cxe().s[48]++;for(var i=(cov_1a6u3c9cxe().s[49]++,0);i<allBookings.length;i++){var currentBooking=(cov_1a6u3c9cxe().s[50]++,allBookings[i]);cov_1a6u3c9cxe().s[51]++;if(currentBooking.id==id){cov_1a6u3c9cxe().b[10][0]++;cov_1a6u3c9cxe().s[52]++;allBookings[i].facility=facility;cov_1a6u3c9cxe().s[53]++;allBookings[i].date=date;cov_1a6u3c9cxe().s[54]++;allBookings[i].time=time;cov_1a6u3c9cxe().s[55]++;modified=true;}else{cov_1a6u3c9cxe().b[10][1]++;}}cov_1a6u3c9cxe().s[56]++;if(modified){cov_1a6u3c9cxe().b[11][0]++;cov_1a6u3c9cxe().s[57]++;await fs.writeFile('utils/bookings.json',JSON.stringify(allBookings),'utf8');cov_1a6u3c9cxe().s[58]++;return res.status(201).json({message:'Booking Updated Successfully!'});}else{cov_1a6u3c9cxe().b[11][1]++;cov_1a6u3c9cxe().s[59]++;return res.status(500).json({message:'Error occurred, unable to Update!'});}}catch(error){cov_1a6u3c9cxe().s[60]++;return res.status(500).json({message:error.message});}}cov_1a6u3c9cxe().s[61]++;module.exports={viewUserBookings,addBooking,updateBooking};//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJmcyIsInJlcXVpcmUiLCJwcm9taXNlcyIsIkJvb2tpbmciLCJyZWFkSlNPTiIsIndyaXRlSlNPTiIsImlzVmFsaWREYXRlRm9ybWF0IiwiZGF0ZSIsImRhdGVGb3JtYXRSZWdleCIsInRlc3QiLCJpc1ZhbGlkVGltZUZvcm1hdCIsInRpbWUiLCJ0cmltIiwidmlld1VzZXJCb29raW5ncyIsInJlcSIsInJlcyIsInJlcXVlc3RlZFVzZXJuYW1lIiwicGFyYW1zIiwibmFtZSIsImFsbEJvb2tpbmdzIiwidXNlckJvb2tpbmdzIiwiZmlsdGVyIiwiYm9va2luZyIsImxlbmd0aCIsInN0YXR1cyIsImpzb24iLCJtZXNzYWdlIiwiZXJyb3IiLCJhZGRCb29raW5nIiwiYm9keSIsImZhY2lsaXR5IiwiYm9va2luZ0V4aXN0cyIsInNvbWUiLCJuZXdCb29raW5nIiwidXBkYXRlZEJvb2tpbmdzIiwidXBkYXRlQm9va2luZyIsImlkIiwibW9kaWZpZWQiLCJpc0Jvb2tpbmdDb25mbGljdCIsImkiLCJjdXJyZW50Qm9va2luZyIsIndyaXRlRmlsZSIsIkpTT04iLCJzdHJpbmdpZnkiLCJtb2R1bGUiLCJleHBvcnRzIl0sInNvdXJjZVJvb3QiOiJDOlxcVXNlcnNcXHRlaWppXFxUUCBZZWFyIDItMyBDb2RpbmcgUHJvamVjdHNcXERldk9wcyBZMlxcQm9va0xhaFxcdXRpbHNcXCIsInNvdXJjZXMiOlsiYm9va2luZ1V0aWwuanMiXSwic291cmNlc0NvbnRlbnQiOlsiY29uc3QgZnMgPSByZXF1aXJlKCdmcycpLnByb21pc2VzO1xyXG5jb25zdCB7IEJvb2tpbmcgfSA9IHJlcXVpcmUoJy4uL21vZGVscy9Cb29raW5nJyk7XHJcbmNvbnN0IHsgcmVhZEpTT04sIHdyaXRlSlNPTiB9ID0gcmVxdWlyZSgnLi91c2VyVXRpbCcpXHJcblxyXG4vLyBIZWxwZXIgZnVuY3Rpb24gdG8gdmFsaWRhdGUgZGF0ZSBmb3JtYXRcclxuZnVuY3Rpb24gaXNWYWxpZERhdGVGb3JtYXQoZGF0ZSkge1xyXG5cclxuICAgIC8vIFJlZ3VsYXIgZXhwcmVzc2lvbiBmb3IgXCJEYXkvbW9udGgveWVhclwiIGZvcm1hdFxyXG4gICAgY29uc3QgZGF0ZUZvcm1hdFJlZ2V4ID0gL15cXGR7MSwyfVxcL1xcZHsxLDJ9XFwvXFxkezJ9JC87XHJcbiAgICAvL2NoZWNrIGlmIHRoZSBwcm92aWRlZCBkYXRlIHN0cmluZyBtYXRjaGVzIHRoZSBwYXR0ZXJuIGRlZmluZWQgYnkgdGhlIHJlZ3VsYXIgZXhwcmVzc2lvbiBkYXRlRm9ybWF0UmVnZXguXHJcbiAgICByZXR1cm4gZGF0ZUZvcm1hdFJlZ2V4LnRlc3QoZGF0ZSk7XHJcbn1cclxuXHJcbi8vIEhlbHBlciBmdW5jdGlvbiB0byB2YWxpZGF0ZSB0aW1lIGZvcm1hdFxyXG5mdW5jdGlvbiBpc1ZhbGlkVGltZUZvcm1hdCh0aW1lKSB7XHJcbiAgICAvLyBZb3UgY2FuIHVzZSBhIG1vcmUgc29waGlzdGljYXRlZCB0aW1lIHZhbGlkYXRpb24gbG9naWMgaWYgbmVlZGVkXHJcbiAgICAvLyBGb3Igc2ltcGxpY2l0eSwgdGhpcyBleGFtcGxlIGNoZWNrcyBpZiB0aGUgdGltZSBoYXMgYSB2YWxpZCBmb3JtYXRcclxuICAgIHJldHVybiB0eXBlb2YgdGltZSA9PT0gJ3N0cmluZycgJiYgdGltZS50cmltKCkgIT09ICcnO1xyXG59XHJcblxyXG5hc3luYyBmdW5jdGlvbiB2aWV3VXNlckJvb2tpbmdzKHJlcSwgcmVzKSB7XHJcblxyXG4gICAgY29uc3QgcmVxdWVzdGVkVXNlcm5hbWUgPSByZXEucGFyYW1zLm5hbWU7IC8vIEdldHRpbmcgbmFtZSBmcm9tIHRoZSByb3V0ZSBwYXJhbWV0ZXJcclxuXHJcbiAgICB0cnkge1xyXG4gICAgICAgIGNvbnN0IGFsbEJvb2tpbmdzID0gYXdhaXQgcmVhZEpTT04oJ3V0aWxzL2Jvb2tpbmdzLmpzb24nKTtcclxuXHJcbiAgICAgICAgLy8gRmlsdGVyIGJvb2tpbmdzIGJhc2VkIG9uIHRoZSByZXF1ZXN0ZWQgdXNlcm5hbWVcclxuICAgICAgICBjb25zdCB1c2VyQm9va2luZ3MgPSBhbGxCb29raW5ncy5maWx0ZXIoYm9va2luZyA9PiBib29raW5nLm5hbWUgPT09IHJlcXVlc3RlZFVzZXJuYW1lKTtcclxuXHJcbiAgICAgICAgaWYgKHVzZXJCb29raW5ncy5sZW5ndGggPT09IDApIHtcclxuICAgICAgICAgICAgLy8gSWYgbm8gYm9va2luZ3Mgd2VyZSBmb3VuZCBmb3IgdGhlIHNwZWNpZmllZCB1c2VybmFtZVxyXG4gICAgICAgICAgICByZXR1cm4gcmVzLnN0YXR1cyg0MDQpLmpzb24oeyBtZXNzYWdlOiBcIk5vIGJvb2tpbmdzIGZvdW5kIGZvciB0aGUgc3BlY2lmaWVkIHVzZXIuXCIgfSk7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICByZXR1cm4gcmVzLnN0YXR1cygyMDApLmpzb24odXNlckJvb2tpbmdzKTtcclxuICAgIH0gY2F0Y2ggKGVycm9yKSB7XHJcbiAgICAgICAgcmV0dXJuIHJlcy5zdGF0dXMoNTAwKS5qc29uKHsgbWVzc2FnZTogZXJyb3IubWVzc2FnZSB9KTtcclxuICAgIH1cclxufVxyXG5cclxuYXN5bmMgZnVuY3Rpb24gYWRkQm9va2luZyhyZXEsIHJlcykge1xyXG4gICAgdHJ5IHtcclxuICAgICAgICBjb25zdCBhbGxCb29raW5ncyA9IGF3YWl0IHJlYWRKU09OKCd1dGlscy9ib29raW5ncy5qc29uJyk7XHJcblxyXG4gICAgICAgIGNvbnN0IG5hbWUgPSByZXEuYm9keS5uYW1lO1xyXG4gICAgICAgIGNvbnN0IGZhY2lsaXR5ID0gcmVxLmJvZHkuZmFjaWxpdHk7XHJcbiAgICAgICAgY29uc3QgZGF0ZSA9IHJlcS5ib2R5LmRhdGU7XHJcbiAgICAgICAgY29uc3QgdGltZSA9IHJlcS5ib2R5LnRpbWU7XHJcblxyXG4gICAgICAgIC8vIFZhbGlkYXRlIGRhdGUgZm9ybWF0XHJcbiAgICAgICAgaWYgKCFpc1ZhbGlkRGF0ZUZvcm1hdChkYXRlKSkge1xyXG4gICAgICAgICAgICByZXR1cm4gcmVzLnN0YXR1cyg0MDApLmpzb24oeyBtZXNzYWdlOiAnSW52YWxpZCBkYXRlIGZvcm1hdC4gUGxlYXNlIHByb3ZpZGUgYSB2YWxpZCBkYXRlLicgfSk7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICAvLyBWYWxpZGF0ZSB0aW1lIGZvcm1hdFxyXG4gICAgICAgIGlmICghaXNWYWxpZFRpbWVGb3JtYXQodGltZSkpIHtcclxuICAgICAgICAgICAgcmV0dXJuIHJlcy5zdGF0dXMoNDAwKS5qc29uKHsgbWVzc2FnZTogJ0ludmFsaWQgdGltZSBmb3JtYXQuIFBsZWFzZSBwcm92aWRlIGEgdmFsaWQgdGltZSByYW5nZS4nIH0pO1xyXG4gICAgICAgIH1cclxuXHJcblxyXG4gICAgICAgIC8vIENoZWNrIGlmIHRoZSBwcm9wb3NlZCBib29raW5nIGFscmVhZHkgZXhpc3RzIGluIHRoZSBKU09OIGZpbGVcclxuICAgICAgICBjb25zdCBib29raW5nRXhpc3RzID0gYWxsQm9va2luZ3Muc29tZShcclxuICAgICAgICAgICAgKGJvb2tpbmcpID0+XHJcbiAgICAgICAgICAgICAgICBib29raW5nLmZhY2lsaXR5ID09PSBmYWNpbGl0eSAmJlxyXG4gICAgICAgICAgICAgICAgYm9va2luZy5kYXRlID09PSBkYXRlICYmXHJcbiAgICAgICAgICAgICAgICBib29raW5nLnRpbWUgPT09IHRpbWVcclxuICAgICAgICApO1xyXG5cclxuICAgICAgICBpZiAoYm9va2luZ0V4aXN0cykge1xyXG4gICAgICAgICAgICByZXR1cm4gcmVzLnN0YXR1cyg0MDApLmpzb24oe1xyXG4gICAgICAgICAgICAgICAgbWVzc2FnZTpcclxuICAgICAgICAgICAgICAgICAgICAnVGhlIGNob3NlbiB0aW1lIGZvciB0aGlzIGZhY2lsaXR5IGlzIGFscmVhZHkgYm9va2VkIGJ5IGFub3RoZXIgcGVyc29uLiBQbGVhc2UgY2hvb3NlIGFub3RoZXIgdGltaW5nLicsXHJcbiAgICAgICAgICAgIH0pO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgY29uc3QgbmV3Qm9va2luZyA9IG5ldyBCb29raW5nKG5hbWUsIGZhY2lsaXR5LCBkYXRlLCB0aW1lKTtcclxuXHJcbiAgICAgICAgY29uc3QgdXBkYXRlZEJvb2tpbmdzID0gYXdhaXQgd3JpdGVKU09OKG5ld0Jvb2tpbmcsICd1dGlscy9ib29raW5ncy5qc29uJyk7XHJcblxyXG4gICAgICAgIHJldHVybiByZXMuc3RhdHVzKDIwMSkuanNvbih1cGRhdGVkQm9va2luZ3MpO1xyXG4gICAgfSBjYXRjaCAoZXJyb3IpIHtcclxuICAgICAgICByZXR1cm4gcmVzLnN0YXR1cyg1MDApLmpzb24oeyBtZXNzYWdlOiBlcnJvci5tZXNzYWdlIH0pO1xyXG4gICAgfVxyXG59XHJcblxyXG5hc3luYyBmdW5jdGlvbiB1cGRhdGVCb29raW5nKHJlcSwgcmVzKSB7XHJcbiAgICB0cnkge1xyXG4gICAgICAgIGNvbnN0IGlkID0gcmVxLnBhcmFtcy5pZDtcclxuICAgICAgICBjb25zdCBmYWNpbGl0eSA9IHJlcS5ib2R5LmZhY2lsaXR5O1xyXG4gICAgICAgIGNvbnN0IGRhdGUgPSByZXEuYm9keS5kYXRlO1xyXG4gICAgICAgIGNvbnN0IHRpbWUgPSByZXEuYm9keS50aW1lO1xyXG5cclxuICAgICAgICAgLy8gVmFsaWRhdGUgZGF0ZSBmb3JtYXRcclxuICAgICAgICAgaWYgKCFpc1ZhbGlkRGF0ZUZvcm1hdChkYXRlKSkge1xyXG4gICAgICAgICAgICByZXR1cm4gcmVzLnN0YXR1cyg0MDApLmpzb24oeyBtZXNzYWdlOiAnSW52YWxpZCBkYXRlIGZvcm1hdC4gUGxlYXNlIHByb3ZpZGUgYSB2YWxpZCBkYXRlLicgfSk7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICAvLyBWYWxpZGF0ZSB0aW1lIGZvcm1hdFxyXG4gICAgICAgIGlmICghaXNWYWxpZFRpbWVGb3JtYXQodGltZSkpIHtcclxuICAgICAgICAgICAgcmV0dXJuIHJlcy5zdGF0dXMoNDAwKS5qc29uKHsgbWVzc2FnZTogJ0ludmFsaWQgdGltZSBmb3JtYXQuIFBsZWFzZSBwcm92aWRlIGEgdmFsaWQgdGltZSByYW5nZS4nIH0pO1xyXG4gICAgICAgIH1cclxuICAgICAgICBcclxuICAgICAgICBjb25zdCBhbGxCb29raW5ncyA9IGF3YWl0IHJlYWRKU09OKCd1dGlscy9ib29raW5ncy5qc29uJyk7XHJcbiAgICAgICAgdmFyIG1vZGlmaWVkID0gZmFsc2U7XHJcblxyXG4gICAgICAgIC8vIENoZWNrIGlmIHRoZSBwcm9wb3NlZCBjaGFuZ2VzIGFyZSBhbHJlYWR5IGJvb2tlZFxyXG4gICAgICAgIGNvbnN0IGlzQm9va2luZ0NvbmZsaWN0ID0gYWxsQm9va2luZ3Muc29tZShcclxuICAgICAgICAgICAgKGJvb2tpbmcpID0+XHJcbiAgICAgICAgICAgICAgICBib29raW5nLmlkICE9PSBpZCAmJiAvLyBFeGNsdWRlIHRoZSBjdXJyZW50IGJvb2tpbmcgYmVpbmcgdXBkYXRlZFxyXG4gICAgICAgICAgICAgICAgYm9va2luZy5mYWNpbGl0eSA9PT0gZmFjaWxpdHkgJiZcclxuICAgICAgICAgICAgICAgIGJvb2tpbmcuZGF0ZSA9PT0gZGF0ZSAmJlxyXG4gICAgICAgICAgICAgICAgYm9va2luZy50aW1lID09PSB0aW1lXHJcbiAgICAgICAgKTtcclxuXHJcbiAgICAgICAgaWYgKGlzQm9va2luZ0NvbmZsaWN0KSB7XHJcbiAgICAgICAgICAgIHJldHVybiByZXMuc3RhdHVzKDQwMCkuanNvbih7XHJcbiAgICAgICAgICAgICAgICBtZXNzYWdlOlxyXG4gICAgICAgICAgICAgICAgICAgICdUaGUgY2hvc2VuIHRpbWUgZm9yIHRoaXMgZmFjaWxpdHkgaXMgYWxyZWFkeSBib29rZWQgYnkgYW5vdGhlciBwZXJzb24uIFBsZWFzZSBjaG9vc2UgYW5vdGhlciB0aW1pbmcuJyxcclxuICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IGFsbEJvb2tpbmdzLmxlbmd0aDsgaSsrKSB7XHJcbiAgICAgICAgICAgIHZhciBjdXJyZW50Qm9va2luZyA9IGFsbEJvb2tpbmdzW2ldO1xyXG4gICAgICAgICAgICBpZiAoY3VycmVudEJvb2tpbmcuaWQgPT0gaWQpIHtcclxuICAgICAgICAgICAgICAgIGFsbEJvb2tpbmdzW2ldLmZhY2lsaXR5ID0gZmFjaWxpdHk7XHJcbiAgICAgICAgICAgICAgICBhbGxCb29raW5nc1tpXS5kYXRlID0gZGF0ZTtcclxuICAgICAgICAgICAgICAgIGFsbEJvb2tpbmdzW2ldLnRpbWUgPSB0aW1lO1xyXG4gICAgICAgICAgICAgICAgbW9kaWZpZWQgPSB0cnVlO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICBpZiAobW9kaWZpZWQpIHtcclxuICAgICAgICAgICAgYXdhaXQgZnMud3JpdGVGaWxlKCd1dGlscy9ib29raW5ncy5qc29uJywgSlNPTi5zdHJpbmdpZnkoYWxsQm9va2luZ3MpLCAndXRmOCcpO1xyXG4gICAgICAgICAgICByZXR1cm4gcmVzLnN0YXR1cygyMDEpLmpzb24oeyBtZXNzYWdlOiAnQm9va2luZyBVcGRhdGVkIFN1Y2Nlc3NmdWxseSEnIH0pO1xyXG4gICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgIHJldHVybiByZXMuc3RhdHVzKDUwMCkuanNvbih7IG1lc3NhZ2U6ICdFcnJvciBvY2N1cnJlZCwgdW5hYmxlIHRvIFVwZGF0ZSEnIH0pO1xyXG4gICAgICAgIH1cclxuICAgIH0gY2F0Y2ggKGVycm9yKSB7XHJcbiAgICAgICAgcmV0dXJuIHJlcy5zdGF0dXMoNTAwKS5qc29uKHsgbWVzc2FnZTogZXJyb3IubWVzc2FnZSB9KTtcclxuICAgIH1cclxufVxyXG5cclxuXHJcbm1vZHVsZS5leHBvcnRzID0geyB2aWV3VXNlckJvb2tpbmdzLCBhZGRCb29raW5nLCB1cGRhdGVCb29raW5nIH1cclxuIl0sIm1hcHBpbmdzIjoiQUFBQSxNQUFNQSxFQUFFLEdBQUdDLE9BQU8sQ0FBQyxJQUFJLENB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
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJjb3ZfMWE2dTNjOWN4ZSIsImFjdHVhbENvdmVyYWdlIiwiZnMiLCJzIiwicmVxdWlyZSIsInByb21pc2VzIiwiQm9va2luZyIsInJlYWRKU09OIiwid3JpdGVKU09OIiwiaXNWYWxpZERhdGVGb3JtYXQiLCJkYXRlIiwiZiIsImRhdGVGb3JtYXRSZWdleCIsInRlc3QiLCJpc1ZhbGlkVGltZUZvcm1hdCIsInRpbWUiLCJiIiwidHJpbSIsInZpZXdVc2VyQm9va2luZ3MiLCJyZXEiLCJyZXMiLCJyZXF1ZXN0ZWRVc2VybmFtZSIsInBhcmFtcyIsIm5hbWUiLCJhbGxCb29raW5ncyIsInVzZXJCb29raW5ncyIsImZpbHRlciIsImJvb2tpbmciLCJsZW5ndGgiLCJzdGF0dXMiLCJqc29uIiwibWVzc2FnZSIsImVycm9yIiwiYWRkQm9va2luZyIsImJvZHkiLCJmYWNpbGl0eSIsImJvb2tpbmdFeGlzdHMiLCJzb21lIiwibmV3Qm9va2luZyIsInVwZGF0ZWRCb29raW5ncyIsInVwZGF0ZUJvb2tpbmciLCJpZCIsIm1vZGlmaWVkIiwiaXNCb29raW5nQ29uZmxpY3QiLCJpIiwiY3VycmVudEJvb2tpbmciLCJ3cml0ZUZpbGUiLCJKU09OIiwic3RyaW5naWZ5IiwibW9kdWxlIiwiZXhwb3J0cyJdLCJzb3VyY2VzIjpbIkM6XFxVc2Vyc1xcdGVpamlcXFRQIFllYXIgMi0zIENvZGluZyBQcm9qZWN0c1xcRGV2T3BzIFkyXFxCb29rTGFoXFx1dGlsc1xcL2Jvb2tpbmdVdGlsLmpzIl0sInNvdXJjZXNDb250ZW50IjpbImNvbnN0IGZzID0gcmVxdWlyZSgnZnMnKS5wcm9taXNlcztcclxuY29uc3QgeyBCb29raW5nIH0gPSByZXF1aXJlKCcuLi9tb2RlbHMvQm9va2luZycpO1xyXG5jb25zdCB7IHJlYWRKU09OLCB3cml0ZUpTT04gfSA9IHJlcXVpcmUoJy4vdXNlclV0aWwnKVxyXG5cclxuLy8gSGVscGVyIGZ1bmN0aW9uIHRvIHZhbGlkYXRlIGRhdGUgZm9ybWF0XHJcbmZ1bmN0aW9uIGlzVmFsaWREYXRlRm9ybWF0KGRhdGUpIHtcclxuXHJcbiAgICAvLyBSZWd1bGFyIGV4cHJlc3Npb24gZm9yIFwiRGF5L21vbnRoL3llYXJcIiBmb3JtYXRcclxuICAgIGNvbnN0IGRhdGVGb3JtYXRSZWdleCA9IC9eXFxkezEsMn1cXC9cXGR7MSwyfVxcL1xcZHsyfSQvO1xyXG4gICAgLy9jaGVjayBpZiB0aGUgcHJvdmlkZWQgZGF0ZSBzdHJpbmcgbWF0Y2hlcyB0aGUgcGF0dGVybiBkZWZpbmVkIGJ5IHRoZSByZWd1bGFyIGV4cHJlc3Npb24gZGF0ZUZvcm1hdFJlZ2V4LlxyXG4gICAgcmV0dXJuIGRhdGVGb3JtYXRSZWdleC50ZXN0KGRhdGUpO1xyXG59XHJcblxyXG4vLyBIZWxwZXIgZnVuY3Rpb24gdG8gdmFsaWRhdGUgdGltZSBmb3JtYXRcclxuZnVuY3Rpb24gaXNWYWxpZFRpbWVGb3JtYXQodGltZSkge1xyXG4gICAgLy8gWW91IGNhbiB1c2UgYSBtb3JlIHNvcGhpc3RpY2F0ZWQgdGltZSB2YWxpZGF0aW9uIGxvZ2ljIGlmIG5lZWRlZFxyXG4gICAgLy8gRm9yIHNpbXBsaWNpdHksIHRoaXMgZXhhbXBsZSBjaGVja3MgaWYgdGhlIHRpbWUgaGFzIGEgdmFsaWQgZm9ybWF0XHJcbiAgICByZXR1cm4gdHlwZW9mIHRpbWUgPT09ICdzdHJpbmcnICYmIHRpbWUudHJpbSgpICE9PSAnJztcclxufVxyXG5cclxuYXN5bmMgZnVuY3Rpb24gdmlld1VzZXJCb29raW5ncyhyZXEsIHJlcykge1xyXG5cclxuICAgIGNvbnN0IHJlcXVlc3RlZFVzZXJuYW1lID0gcmVxLnBhcmFtcy5uYW1lOyAvLyBHZXR0aW5nIG5hbWUgZnJvbSB0aGUgcm91dGUgcGFyYW1ldGVyXHJcblxyXG4gICAgdHJ5IHtcclxuICAgICAgICBjb25zdCBhbGxCb29raW5ncyA9IGF3YWl0IHJlYWRKU09OKCd1dGlscy9ib29raW5ncy5qc29uJyk7XHJcblxyXG4gICAgICAgIC8vIEZpbHRlciBib29raW5ncyBiYXNlZCBvbiB0aGUgcmVxdWVzdGVkIHVzZXJuYW1lXHJcbiAgICAgICAgY29uc3QgdXNlckJvb2tpbmdzID0gYWxsQm9va2luZ3MuZmlsdGVyKGJvb2tpbmcgPT4gYm9va2luZy5uYW1lID09PSByZXF1ZXN0ZWRVc2VybmFtZSk7XHJcblxyXG4gICAgICAgIGlmICh1c2VyQm9va2luZ3MubGVuZ3RoID09PSAwKSB7XHJcbiAgICAgICAgICAgIC8vIElmIG5vIGJvb2tpbmdzIHdlcmUgZm91bmQgZm9yIHRoZSBzcGVjaWZpZWQgdXNlcm5hbWVcclxuICAgICAgICAgICAgcmV0dXJuIHJlcy5zdGF0dXMoNDA0KS5qc29uKHsgbWVzc2FnZTogXCJObyBib29raW5ncyBmb3VuZCBmb3IgdGhlIHNwZWNpZmllZCB1c2VyLlwiIH0pO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgcmV0dXJuIHJlcy5zdGF0dXMoMjAwKS5qc29uKHVzZXJCb29raW5ncyk7XHJcbiAgICB9IGNhdGNoIChlcnJvcikge1xyXG4gICAgICAgIHJldHVybiByZXMuc3RhdHVzKDUwMCkuanNvbih7IG1lc3NhZ2U6IGVycm9yLm1lc3NhZ2UgfSk7XHJcbiAgICB9XHJcbn1cclxuXHJcbmFzeW5jIGZ1bmN0aW9uIGFkZEJvb2tpbmcocmVxLCByZXMpIHtcclxuICAgIHRyeSB7XHJcbiAgICAgICAgY29uc3QgYWxsQm9va2luZ3MgPSBhd2FpdCByZWFkSlNPTigndXRpbHMvYm9va2luZ3MuanNvbicpO1xyXG5cclxuICAgICAgICBjb25zdCBuYW1lID0gcmVxLmJvZHkubmFtZTtcclxuICAgICAgICBjb25zdCBmYWNpbGl0eSA9IHJlcS5ib2R5LmZhY2lsaXR5O1xyXG4gICAgICAgIGNvbnN0IGRhdGUgPSByZXEuYm9keS5kYXRlO1xyXG4gICAgICAgIGNvbnN0IHRpbWUgPSByZXEuYm9keS50aW1lO1xyXG5cclxuICAgICAgICAvLyBWYWxpZGF0ZSBkYXRlIGZvcm1hdFxyXG4gICAgICAgIGlmICghaXNWYWxpZERhdGVGb3JtYXQoZGF0ZSkpIHtcclxuICAgICAgICAgICAgcmV0dXJuIHJlcy5zdGF0dXMoNDAwKS5qc29uKHsgbWVzc2FnZTogJ0ludmFsaWQgZGF0ZSBmb3JtYXQuIFBsZWFzZSBwcm92aWRlIGEgdmFsaWQgZGF0ZS4nIH0pO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgLy8gVmFsaWRhdGUgdGltZSBmb3JtYXRcclxuICAgICAgICBpZiAoIWlzVmFsaWRUaW1lRm9ybWF0KHRpbWUpKSB7XHJcbiAgICAgICAgICAgIHJldHVybiByZXMuc3RhdHVzKDQwMCkuanNvbih7IG1lc3NhZ2U6ICdJbnZhbGlkIHRpbWUgZm9ybWF0LiBQbGVhc2UgcHJvdmlkZSBhIHZhbGlkIHRpbWUgcmFuZ2UuJyB9KTtcclxuICAgICAgICB9XHJcblxyXG5cclxuICAgICAgICAvLyBDaGVjayBpZiB0aGUgcHJvcG9zZWQgYm9va2luZyBhbHJlYWR5IGV4aXN0cyBpbiB0aGUgSlNPTiBmaWxlXHJcbiAgICAgICAgY29uc3QgYm9va2luZ0V4aXN0cyA9IGFsbEJvb2tpbmdzLnNvbWUoXHJcbiAgICAgICAgICAgIChib29raW5nKSA9PlxyXG4gICAgICAgICAgICAgICAgYm9va2luZy5mYWNpbGl0eSA9PT0gZmFjaWxpdHkgJiZcclxuICAgICAgICAgICAgICAgIGJvb2tpbmcuZGF0ZSA9PT0gZGF0ZSAmJlxyXG4gICAgICAgICAgICAgICAgYm9va2luZy50aW1lID09PSB0aW1lXHJcbiAgICAgICAgKTtcclxuXHJcbiAgICAgICAgaWYgKGJvb2tpbmdFeGlzdHMpIHtcclxuICAgICAgICAgICAgcmV0dXJuIHJlcy5zdGF0dXMoNDAwKS5qc29uKHtcclxuICAgICAgICAgICAgICAgIG1lc3NhZ2U6XHJcbiAgICAgICAgICAgICAgICAgICAgJ1RoZSBjaG9zZW4gdGltZSBmb3IgdGhpcyBmYWNpbGl0eSBpcyBhbHJlYWR5IGJvb2tlZCBieSBhbm90aGVyIHBlcnNvbi4gUGxlYXNlIGNob29zZSBhbm90aGVyIHRpbWluZy4nLFxyXG4gICAgICAgICAgICB9KTtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIGNvbnN0IG5ld0Jvb2tpbmcgPSBuZXcgQm9va2luZyhuYW1lLCBmYWNpbGl0eSwgZGF0ZSwgdGltZSk7XHJcblxyXG4gICAgICAgIGNvbnN0IHVwZGF0ZWRCb29raW5ncyA9IGF3YWl0IHdyaXRlSlNPTihuZXdCb29raW5nLCAndXRpbHMvYm9va2luZ3MuanNvbicpO1xyXG5cclxuICAgICAgICByZXR1cm4gcmVzLnN0YXR1cygyMDEpLmpzb24odXBkYXRlZEJvb2tpbmdzKTtcclxuICAgIH0gY2F0Y2ggKGVycm9yKSB7XHJcbiAgICAgICAgcmV0dXJuIHJlcy5zdGF0dXMoNTAwKS5qc29uKHsgbWVzc2FnZTogZXJyb3IubWVzc2FnZSB9KTtcclxuICAgIH1cclxufVxyXG5cclxuYXN5bmMgZnVuY3Rpb24gdXBkYXRlQm9va2luZyhyZXEsIHJlcykge1xyXG4gICAgdHJ5IHtcclxuICAgICAgICBjb25zdCBpZCA9IHJlcS5wYXJhbXMuaWQ7XHJcbiAgICAgICAgY29uc3QgZmFjaWxpdHkgPSByZXEuYm9keS5mYWNpbGl0eTtcclxuICAgICAgICBjb25zdCBkYXRlID0gcmVxLmJvZHkuZGF0ZTtcclxuICAgICAgICBjb25zdCB0aW1lID0gcmVxLmJvZHkudGltZTtcclxuXHJcbiAgICAgICAgIC8vIFZhbGlkYXRlIGRhdGUgZm9ybWF0XHJcbiAgICAgICAgIGlmICghaXNWYWxpZERhdGVGb3JtYXQoZGF0ZSkpIHtcclxuICAgICAgICAgICAgcmV0dXJuIHJlcy5zdGF0dXMoNDAwKS5qc29uKHsgbWVzc2FnZTogJ0ludmFsaWQgZGF0ZSBmb3JtYXQuIFBsZWFzZSBwcm92aWRlIGEgdmFsaWQgZGF0ZS4nIH0pO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgLy8gVmFsaWRhdGUgdGltZSBmb3JtYXRcclxuICAgICAgICBpZiAoIWlzVmFsaWRUaW1lRm9ybWF0KHRpbWUpKSB7XHJcbiAgICAgICAgICAgIHJldHVybiByZXMuc3RhdHVzKDQwMCkuanNvbih7IG1lc3NhZ2U6ICdJbnZhbGlkIHRpbWUgZm9ybWF0LiBQbGVhc2UgcHJvdmlkZSBhIHZhbGlkIHRpbWUgcmFuZ2UuJyB9KTtcclxuICAgICAgICB9XHJcbiAgICAgICAgXHJcbiAgICAgICAgY29uc3QgYWxsQm9va2luZ3MgPSBhd2FpdCByZWFkSlNPTigndXRpbHMvYm9va2luZ3MuanNvbicpO1xyXG4gICAgICAgIHZhciBtb2RpZmllZCA9IGZhbHNlO1xyXG5cclxuICAgICAgICAvLyBDaGVjayBpZiB0aGUgcHJvcG9zZWQgY2hhbmdlcyBhcmUgYWxyZWFkeSBib29rZWRcclxuICAgICAgICBjb25zdCBpc0Jvb2tpbmdDb25mbGljdCA9IGFsbEJvb2tpbmdzLnNvbWUoXHJcbiAgICAgICAgICAgIChib29raW5nKSA9PlxyXG4gICAgICAgICAgICAgICAgYm9va2luZy5pZCAhPT0gaWQgJiYgLy8gRXhjbHVkZSB0aGUgY3VycmVudCBib29raW5nIGJlaW5nIHVwZGF0ZWRcclxuICAgICAgICAgICAgICAgIGJvb2tpbmcuZmFjaWxpdHkgPT09IGZhY2lsaXR5ICYmXHJcbiAgICAgICAgICAgICAgICBib29raW5nLmRhdGUgPT09IGRhdGUgJiZcclxuICAgICAgICAgICAgICAgIGJvb2tpbmcudGltZSA9PT0gdGltZVxyXG4gICAgICAgICk7XHJcblxyXG4gICAgICAgIGlmIChpc0Jvb2tpbmdDb25mbGljdCkge1xyXG4gICAgICAgICAgICByZXR1cm4gcmVzLnN0YXR1cyg0MDApLmpzb24oe1xyXG4gICAgICAgICAgICAgICAgbWVzc2FnZTpcclxuICAgICAgICAgICAgICAgICAgICAnVGhlIGNob3NlbiB0aW1lIGZvciB0aGlzIGZhY2lsaXR5IGlzIGFscmVhZHkgYm9va2VkIGJ5IGFub3RoZXIgcGVyc29uLiBQbGVhc2UgY2hvb3NlIGFub3RoZXIgdGltaW5nLicsXHJcbiAgICAgICAgICAgIH0pO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBhbGxCb29raW5ncy5sZW5ndGg7IGkrKykge1xyXG4gICAgICAgICAgICB2YXIgY3VycmVudEJvb2tpbmcgPSBhbGxCb29raW5nc1tpXTtcclxuICAgICAgICAgICAgaWYgKGN1cnJlbnRCb29raW5nLmlkID09IGlkKSB7XHJcbiAgICAgICAgICAgICAgICBhbGxCb29raW5nc1tpXS5mYWNpbGl0eSA9IGZhY2lsaXR5O1xyXG4gICAgICAgICAgICAgICAgYWxsQm9va2luZ3NbaV0uZGF0ZSA9IGRhdGU7XHJcbiAgICAgICAgICAgICAgICBhbGxCb29raW5nc1tpXS50aW1lID0gdGltZTtcclxuICAgICAgICAgICAgICAgIG1vZGlmaWVkID0gdHJ1ZTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgaWYgKG1vZGlmaWVkKSB7XHJcbiAgICAgICAgICAgIGF3YWl0IGZzLndyaXRlRmlsZSgndXRpbHMvYm9va2luZ3MuanNvbicsIEpTT04uc3RyaW5naWZ5KGFsbEJvb2tpbmdzKSwgJ3V0ZjgnKTtcclxuICAgICAgICAgICAgcmV0dXJuIHJlcy5zdGF0dXMoMjAxKS5qc29uKHsgbWVzc2FnZTogJ0Jvb2tpbmcgVXBkYXRlZCBTdWNjZXNzZnVsbHkhJyB9KTtcclxuICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICByZXR1cm4gcmVzLnN0YXR1cyg1MDApLmpzb24oeyBtZXNzYWdlOiAnRXJyb3Igb2NjdXJyZWQsIHVuYWJsZSB0byBVcGRhdGUhJyB9KTtcclxuICAgICAgICB9XHJcbiAgICB9IGNhdGNoIChlcnJvcikge1xyXG4gICAgICAgIHJldHVybiByZXMuc3RhdHVzKDUwMCkuanNvbih7IG1lc3NhZ2U6IGVycm9yLm1lc3NhZ2UgfSk7XHJcbiAgICB9XHJcbn1cclxuXHJcblxyXG5tb2R1bGUuZXhwb3J0cyA9IHsgdmlld1VzZXJCb29raW5ncywgYWRkQm9va2luZywgdXBkYXRlQm9va2luZyB9XHJcbiJdLCJtYXBwaW5ncyI6IjQ5a0JBV0E7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